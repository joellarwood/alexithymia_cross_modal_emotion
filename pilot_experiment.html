<!DOCTYPE html>
<html>

<head>
  <title>Music Matcher</title>
  <script src="jspsych-6.1.0/jspsych.js"></script>
  <script src="jspsych-6.1.0/plugins/jspsych-html-keyboard-response.js"></script>
  <script src="jspsych-6.1.0/plugins/jspsych-survey-likert.js"></script>
  <script src="jspsych-6.1.0/plugins/jspsych-survey-multi-choice.js"></script>
  <script src="jspsych-6.1.0/plugins/jspsych-html-slider-response.js"></script>
  <script src="jspsych-6.1.0/plugins/jspsych-survey-multi-choice.js"></script>
  <link href="jspsych-6.1.0/css/jspsych.css" rel="stylesheet" type="text/css">
  </link>
</head>

<body></body>
<script>
  /* create timeline */
  var timeline = [];

  /* define welcome message trial */
  var welcome = {
    type: "html-keyboard-response",
    stimulus: "Welcome to the experiment. Press any key to begin."
  };
  timeline.push(welcome);


  /* Experiment instructions */

  var trial_instructions = {
    type: "html-keyboard-response",
    stimulus: "<p>In this study you will hear a short musical clip and then make some ratings about the emotion it expresses or conveys</p>" +
      "<p>First you will select which emotion you think the musical clip is expressing</p>" +
      "<p>You will then rate how pleasant the feeling expressed in the musical clip was and also how energetic it was</p>" +
      "<p>Press the space bar to begin</p>",
    choices: ['spacebar']
  };
  timeline.push(trial_instructions);

  /* Experimental trials */

  var songs = [
  {stimulus: "mp3/1_Be_Happy.mp3"},
  {stimulus: "mp3/1_Skinny_Love.mp3"},
  {stimulus: "mp3/1_The_Sweetest.mp3"},
  {stimulus: "mp3/2_Blood_On_The_Ground.mp3"},
  {stimulus: "mp3/2_Boser_Wolf.mp3"},
  {stimulus: "mp3/2_Incomplete.mp3"},
  {stimulus: "mp3/2_Inside.mp3"},
  {stimulus: "2_Love's_Requiem.mp3"},
  {stimulus: "mp3/2_On_A_Slow_Boat_To_China.mp3"},
  {stimulus: "mp3/2_Sweet_Song.mp3"},
  {stimulus: "mp3/3_It_Only_Hirts_When_I'm_Breathing.mp3"},
  {stimulus: "mp3/3_Old_Backtop_[Album_Version].mp3"},
  {stimulus: "mp3/3_Walkon_the_wildside.mp3"},
  {stimulus: "mp3/4_Come_On_Baby.mp3"},
  {stimulus: "mp3/4_Destiny.mp3"},
  {stimulus: "mp3/4_Make_Light.mp3"},
  {stimulus: "mp3/4_Mbube.mp4"},
  {stimulus: "mp3/5_Get_Lucky.mp3"},
  {stimulus: "mp3/5_Love's_Requiem.mp3"},
  {stimulus: "mp3/5_Valerie.mp3"},
  {stimulus: "mp3/7_Digital.mp3"},
  {stimulus: "mp3/7_Here_Today.mp3"},
  {stimulus: "mp3/8_Fire_And_Rain_(LP_Version).mp3"},
  {stimulus: "mp3/8_Restess.mp3"},
  {stimulus: "mp3/9_If_The_Creeks_Don't_Rise.mp3"},
  {stimulus: "mp3/9_Pain_(Live_Version).mp3"},
  {stimulus: "mp3/11_Be_Happy.mp3"},
  {stimulus: "mp3/12_Fire_And_Rain_(LP_Version).mp3"},
  {stimulus: "mp3/12_Skank_Down.mp3"},
  {stimulus: "mp3/12_Skinny_Love.mp3"},
  {stimulus: "mp3/12_Skinny_Love.mp3"},
  {stimulus: "mp3/12_Boser_Wolf.mp3"},
  {stimulus: "mp3/13_If_The_Creeks_Don't_Rise.mp3"},
  {stimulus: "mp3/13_Motown_Junk.mp3"},
  {stimulus: "mp3/14_Get_Lucky.mp3"},
  {stimulus: "mp3/14_Valerie.mp3"},
  {stimulus: "mp3/15_Bunkertor_7_(German_Texture).mp3"},
  {stimulus: "mp3/15_Here_Today.mp3"},
  {stimulus: "mp3/16_Restless.mp3"},
  {stimulus: "mp3/17_Get_Lucky.mp3"},
  {stimulus: "mp3/19_I_hate_Everything_About_You.mp3"},
  {stimulus: "mp3/21_Skank_Down.mp3"},
  {stimulus: "mp3/23_Inside.mp3"},
  {stimulus: "mp3/24_Restless.mp3"},
  {stimulus: "mp3/25_Old_Backdrop_[Album_Version].mp3"},
  {stimulus: "mp3/26_Make_Light.mp3"},
  {stimulus: "mp3/26_It_Only_Hurts_When_I'm_Breathing.mp3"}
];

var playsong = {
  type: 'audio-keyboard-response',
  stimulus: jsPsych.timelineVariable('songs'),
  choices: jsPsych.NO_KEYS,
  trial_duration: 1000
}

var fixation = {
    type: 'html-keyboard-response',
    stimulus: '<div style="font-size:60px;">+</div>',
    choices: jsPsych.NO_KEYS,
    trial_duration: 2000,
  }

  var emotion_list = [
    "Happy",
    "Sad",
    "Angry",
    "Relaxed",
    "None of these"
  ];

  var emotion = {
    type: 'survey-multi-choice',
    questions: [{
      prompt: "What emotion did this musical clip express?",
      name: "emotion",
      options: emotion_list,
    }]
  };

  var valence = {
      type: 'html-slider-response',
      stimulus: '',
      labels: ['negative', 'positive'],
      prompt: "<p>How negative/positive was this feeling expressed in this musical clip</p>"
  };

  var arousal = {
      type: 'html-slider-response',
      stimulus: '',
      labels: ['low', 'high'],
      prompt: "<p>How energetic/arousing was the feeling expressed in this musical clip</p>"
  };


  var test_procedure = {
    timeline: [fixation, playsong, emotion, valence, arousal],
    timeline_variables: songs,
    randomize_order: true
  }

timeline.push(test_procedure)


  /* TAS 20 measurement */
  var scale = [
    "Strongly Disagree",
    "Disagree",
    "Neutral",
    "Agree",
    "Strongly Agree"
  ];

  /* TAS */

  var tas = {
    type: 'survey-likert',
    questions: [{
        prompt: "I am often confused about what emotion I am feeling",
        name: "tas_01",
        labels: scale
      },
      {
        prompt: "It is difficult for me to find the right words for my feelings",
        name: "tas_02",
        labels: scale
      },
      {
        prompt: "I have physical sensations that even doctors don't understand",
        name: "tas_03",
        labels: scale
      },
      {
        prompt: "I am able to describe my feelings easily",
        name: "tas_04",
        labels: scale
      },
      {
        prompt: "I prefer to analyse problems rather than just describe them",
        name: "tas_05",
        labels: scale
      },
      {
        prompt: "When I am upset, I don’t know if I am sad, frightened, or angry",
        name: "tas_06",
        labels: scale
      },
      {
        prompt: "I am often puzzled by sensations in my body",
        name: "tas_07",
        labels: scale
      },
      {
        prompt: "I prefer to just let things happen than to understand why they turned out that way",
        name: "tas_08",
        labels: scale
      },
      {
        prompt: "I have feelings that I can’t quite identify",
        name: "tas_09",
        labels: scale
      },
      {
        prompt: "Being in touch with emotions is essential",
        name: "tas_10",
        labels: scale
      },
      {
        prompt: "I find it hard to describe how I feel about people",
        name: "tas_11",
        labels: scale
      },
      {
        prompt: "People tell me to describe my feelings more",
        name: "tas_12",
        labels: scale
      },
      {
        prompt: "I don’t know what’s going on inside me",
        name: "tas_13",
        labels: scale
      },
      {
        prompt: "I often don’t know why I am angry",
        name: "tas_14",
        labels: scale
      },
      {
        prompt: "I prefer talking to people about their daily activities rather than their feelings",
        name: "tas_15",
        labels: scale
      },
      {
        prompt: "I prefer to watch ‘light’ entertainment shows rather than psychological dramas",
        name: "tas_16",
        labels: scale
      },
      {
        prompt: "It is difficult for me to reveal my innermost feelings, even to someone close",
        name: "tas_17",
        labels: scale
      },
      {
        prompt: " I can feel close to someone, even in moments of silence",
        name: "tas_18",
        labels: scale
      },
      {
        prompt: "I find examination of my feelings useful in solving personal problems",
        name: "tas_19",
        labels: scale
      },
      {
        prompt: "Looking for hidden meanings in movies or plays distracts from their enjoyment",
        name: "tas_20",
        labels: scale
      }
    ],
    preamble: "Using the scale provided as a guide, indicate how much you agree or disagree with each of the following statements</p>" +
      "<p>Give only one answer for each statement"
  };
  timeline.push(tas);

  /*MSI */

  var scale_2 = [
    "Completely Disagree",
    "Strongly Disagree",
    "Disagree",
    "Neutral",
    "Agree",
    "Strongly Agree",
    "Completely Agree"
  ];

  var scale_2 = [
    "Completely Disagree",
    "Strongly Disagree",
    "Disagree",
    "Neutral",
    "Agree",
    "Strongly Agree",
    "Completely Agree"
  ];

  var msi = {
    type: 'survey-likert',
    questions: [{
        prompt: "I spend a lot of my free time doing music-related activities.",
        name: "msi_01",
        labels: scale_2
      },
      {
        prompt: "I enjoy writing about music, for example on blogs and forums.",
        name: "msi_03",
        labels: scale_2
      },
      {
        prompt: "If somebody starts singing a song I don't know, I can usually join in.",
        name: "msi_04",
        labels: scale_2
      },
      {
        prompt: "I can sing or play music from memory.",
        name: "msi_07",
        labels: scale_2
      },
      {
        prompt: "I am able to hit the right notes when I sing along with a recording.",
        name: "msi_10",
        labels: scale_2
      },
      {
        prompt: "I can compare and discuss differences between two performances or versions of the same piece of music.",
        name: "msi_12",
        labels: scale_2
      },
      {
        prompt: "I have never been complimented for my talents as a musical performer.",
        name: "msi_14",
        labels: scale_2
      },
      {
        prompt: "I am able to identify what is special about a given musical piece.",
        name: "msi_19",
        labels: scale_2
      },
      {
        prompt: "When I sing, I have no idea whether I'm in tune or not.",
        name: "msi_23",
        labels: scale_2
      },
      {
        prompt: "Music is kind of an addiction for me - I couldn't live without it.",
        name: "msi_24",
        labels: scale_2
      },
      {
        prompt: "I don’t like singing in public because I’m afraid that I would sing wrong notes.",
        name: "msi_25",
        labels: scale_2
      },
      {
        prompt: "I would not consider myself a musician.",
        name: "msi_27",
        labels: scale_2
      },
      {
        prompt: "After hearing a new song two or three times, I can usually sing it by myself.",
        name: "msi_29",
        labels: scale_2
      }
    ],
    preamble: "Using the scale provided as a guide, indicate how much you agree or disagree with each of the following statements</p>" +
      "<p>Give only one answer for each statement"
    };
  timeline.push(msi)

  var scale_3 = [
    "0",
    "1",
    "2",
    "3",
    "4-5",
    "6-9",
    "10 or more"
  ];

  var msi_s2 = {
    type: 'survey-multi-choice',
    questions: [{
      prompt: "I engaged in regular, daily practice of a musical instrument (including voice) for ___ years.",
      name: "msi_32",
      options: scale_3
    }]
  };
  timeline.push(msi_s2)

  var scale_4 = [
    "0",
    "0.5",
    "1",
    "1.5",
    "2",
    "3",
    "4",
    "5",
    "6 or more"
  ];

  var msi_s3 = {
    type: 'survey-multi-choice',
    questions: [{
      prompt: "At the peak of my interest, I practiced ___ hours per day on my primary instrument.",
      name: "msi_33",
      options: scale_4
    }]
  };
  timeline.push(msi_s3)

  var scale_5 = [
    "0",
    "1",
    "2",
    "3",
    "4",
    "5",
    "6 or more"
  ];

  var msi_s4 = {
    type: 'survey-multi-choice',
    questions: [{
      prompt: "I can play ___ musical instruments",
      name: "msi_37",
      options: scale_5
    }]
  };
  timeline.push(msi_s4)

  /* Demographics */

  /*var demographics = {
    type:
  }*/

  var thanks = {
    type: 'html-keyboard-response',
    stimulus: "Thankyou"
  };
  timeline.push(thanks)

  /* start the experiment */
  jsPsych.init({
    timeline: timeline
  });
</script>

</html>
